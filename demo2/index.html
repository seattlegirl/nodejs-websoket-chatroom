<!--搭建自己的websocket-->
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>Websocket</title>
</head>
<body>
    <h1>Echo Test</h1>
    <input id="sendTxt" type="text" />
    <button id="sendBtn">发送</button>
    <div id="recv"></div>
    <script type="text/javascript">
    var websocket=new WebSocket("ws://localhost:3000/"); //ws不是http协议了，是websocket缩写
    websocket.onopen=function(){
        console.log('websocket open');
        document.getElementById("recv").innerHTML="Connected";
    }
    websocket.onclose=function(){
        console.log('websocket close');
    }
    websocket.onmessage=function(e){ //只是将接受回来的数据显示出来
        console.log(e.data);
        document.getElementById("recv").innerHTML=e.data;
    }
    document.getElementById("sendBtn").onclick=function(){  //这一个函数已经完成了在客户和服务器端的发送和接受。
        var txt=document.getElementById("sendTxt").value;
        websocket.send(txt);
    }

    </script>

</body>
</html>